"use strict";(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[29510],{66974:(e,t,r)=>{function n(e=location.host){return-1!==["i18n.tradingview.com","partial.tradingview.com","www.tradingview.com","wwwcn.tradingview.com"].indexOf(e)||-1!==["d33t3vvu2t2yu5.cloudfront.net","dwq4do82y8xi7.cloudfront.net","s.tradingview.com","s3.tradingview.com"].indexOf(e)||e.match(/^[a-z]{2}\.tradingview\.com/)||e.match(/prod-[^.]+.tradingview.com/)?"battle":e.includes("tradingview.com")||e.includes("staging")?"staging":e.match(/webcharts/)?"staging_local":(e.match(/^localhost(:\d+)?$/),"local")}function o(){return"local"===n()}function _(){return"battle"===n()}function i(){return!_()}r.r(t),r.d(t,{environment:()=>n,isDebug:()=>i,isLocal:()=>o,isProd:()=>_})},778016:(e,t,r)=>{r.d(t,{enabled:()=>T,getConfig:()=>S});r(650151);var n=r(409352),o=r(102710),_=r(833813),i=r(822122),s=r(255453);function T(e,t,r){let n=window.user;r&&(n=r);const o=S(e,t,n);return!!o&&!(o[_.ProductFeatures.DISABLE_ON_TRIAL]&&(!n||n.is_trial))}function a(e){const t=n[e];return t?t.extends?Object.assign({},a(t.extends),t):t:null}function S(e,t,r){var n;let _=a(t||function(e){let t=window.user;e&&(t=e);let r=(null==t?void 0:t.pro_plan)||i.ProPlans.Free;const n=r!==i.ProPlans.Free&&!(0,s.isTrialProduct)(r);return n||(r=(0,s.getProductForTrial)(r)),n&&t&&!t.new_pro_product_line&&(r=`__legacy_${r}`),r}(r));if(!_)return null;const T=null===(n=window.TradingView)||void 0===n?void 0:n.widgetCustomer;return T&&o[T]&&(_=Object.assign({},_,o[T])),_&&_[e]||null}},833813:(e,t,r)=>{var n;r.d(t,{ProductFeatures:()=>n}),function(e){e.DISABLE_ON_TRIAL="disable_on_trial",e.CUSTOM_INTERVALS="CUSTOM_INTERVALS",e.CHART_STORAGE="CHART_STORAGE",e.MULTIPLE_CHARTS="MULTIPLE_CHARTS",e.MULTIPLE_WATCHLISTS="MULTIPLE_WATCHLISTS",e.IMPORT_WATCHLISTS="IMPORT_WATCHLISTS",e.EXPORT_WATCHLISTS="EXPORT_WATCHLISTS",e.WATCHLIST_SYMBOLS="WATCHLIST_SYMBOLS",e.INDICATORS_ON_CHART="INDICATORS_ON_CHART",e.STUDY_ON_STUDY="STUDY_ON_STUDY",e.TICK_BY_TICK_PUSH_DATA="TICK_BY_TICK_PUSH_DATA",e.SERVER_SIDE_ALERTS="SERVER_SIDE_ALERTS",e.PUBLISH_INVITE_ONLY_SCRIPTS="PUBLISH_INVITE_ONLY_SCRIPTS",e.PUBLISH_PROTECTED_SCRIPTS="PUBLISH_PROTECTED_SCRIPTS",e.SCREENER_ALERTS="SCREENER_ALERTS",e.SCREENER_AUTO_REFRESH="SCREENER_AUTO_REFRESH",e.SCREENER_NEW_AUTO_REFRESH="SCREENER_NEW_AUTO_REFRESH",e.SCREENER_EXPORT_DATA="SCREENER_EXPORT_DATA",e.SCREENER_INTERVALS="SCREENER_INTERVALS",e.SCREENER_NEW_EXPORT_CSV_DATA="SCREENER_NEW_EXPORT_CSV_DATA",e.SIMULTANEOUS_CONNECTIONS="SIMULTANEOUS_CONNECTIONS",e.BACKEND_CONNECTIONS="BACKEND_CONNECTIONS",e.STUDY_TEMPLATES="STUDY_TEMPLATES",e.CAN_EDIT_PUBLIC_CHATS="CAN_EDIT_PUBLIC_CHATS",e.NO_SPONSORED_ADS="NO_SPONSORED_ADS",e.IDC_AVAILABLE_DELAY="IDC_AVAILABLE_DELAY",e.STATUS="STATUS",e.ALERTS_NO_EXPIRATION="ALERTS_NO_EXPIRATION",e.MULTIFLAGGED_SYMBOLS_LISTS="MULTIFLAGGED_SYMBOLS_LISTS",e.BAR_REPLAY_INTRADAY="BAR_REPLAY_INTRADAY",e.TV_VOLUMEBYPRICE="TV_VOLUMEBYPRICE",e.ALERTS_WEBHOOK="ALERTS_WEBHOOK",e.MARKET_DATA_LIMITS="MARKET_DATA_LIMITS",
e.DEEP_FUNDAMENTALS_HISTORY="DEEP_FUNDAMENTALS_HISTORY",e.EXPORT_CHART_DATA="EXPORT_CHART_DATA",e.EXPORT_FINANCIALS_DATA="EXPORT_FINANCIALS_DATA",e.ALERTS_ON_SECONDS="ALERTS_ON_SECONDS",e.PERMANENT_STREAM_RECORDS="PERMANENT_STREAM_RECORDS",e.IDEA_SOCIAL_LINKS="IDEA_SOCIAL_LINKS",e.EXTENDED_SOCIAL_LINKS="EXTENDED_SOCIAL_LINKS",e.DEEP_HISTORY_BACKTEST="DEEP_HISTORY_BACKTEST",e.BACKTESTING_EXPORT="BACKTESTING_EXPORT",e.USE_BAR_MAGNIFIER="USE_BAR_MAGNIFIER",e.HISTORICAL_BARS="HISTORICAL_BARS",e.KAGI_RENKO="KAGI_RENKO",e.INTRADAY_SPREAD="INTRADAY_SPREAD",e.SECONDS_INTERVALS="SECONDS_INTERVALS",e.MULTICOLOR_FLAGGED_SYMBOLS="MULTICOLOR_FLAGGED_SYMBOLS",e.INTRADAY_EXCHANGE="INTRADAY_EXCHANGE",e.CUSTOM_CHATS="CUSTOM_CHATS",e.VOLUME_PROFILE="VOLUME_PROFILE",e.VOLUME_CANDLES="VOLUME_CANDLES",e.TPO_PERIODIC="TPO_PERIODIC",e.TPO_CHART_STYLE="TPO_CHART_STYLE",e.PRIMITIVE_ALERTS="PRIMITIVE_ALERTS",e.COMPLEX_ALERTS="COMPLEX_ALERTS",e.TV_PROSTUDIES="TV_PROSTUDIES",e.CHART_PATTERNS="CHART_PATTERNS",e.SMS_2FA_VERIFICATION="SMS_2FA_VERIFICATION",e.SOCIAL_ACTIVITY="SOCIAL_ACTIVITY",e.TICK_INTERVALS="TICK_INTERVALS",e.CUSTOM_FORMULAS="CUSTOM_FORMULAS",e.CUSTOM_RANGE_BARS="CUSTOM_RANGE_BARS",e.BUY_PRO_DATA="BUY_PRO_DATA",e.FASTEST_DATA_FLOW="FASTEST_DATA_FLOW",e.FIRST_PRIORITY_SUPPORT="FIRST_PRIORITY_SUPPORT",e.FUNDAMENTALS_ON_CHART="FUNDAMENTALS_ON_CHART",e.VIDEO_IDEAS_LENGTH="VIDEO_IDEAS_LENGTH"}(n||(n={}))},314802:(e,t,r)=>{r.d(t,{isOnMobileAppPage:()=>o});var n=r(16188);function o(e,t=!1){const{searchParams:r}=new URL(String(location));let o="true"===r.get("mobileapp_new"),_="true"===r.get("mobileapp");if(!t){const e=n.get("tv_app")||"";o||(o=["android","android_nps"].includes(e)),_||(_="ios"===e)}return!("new"!==e&&"any"!==e||!o)||!("new"===e||!_)}},659863:(e,t,r)=>{new class{constructor(e,t){this._test=e[t]={}}provide(e,t){this._test[e]=t}}(window,"qaGlobals")},519073:(e,t,r)=>{function n(e){return void 0!==e&&e.includes("crypto")}r.d(t,{hasCryptoTypespec:()=>n})},175203:(e,t,r)=>{r.d(t,{telemetry:()=>S});var n=r(707957),o=r(120780),_=r(638456),i=r(314802);r(659863);const s=(0,r(201089).getLogger)("Common.Telemetry"),T={default:15e3,site:3e5},a=["before_websocket_connection_time_frame","websocket_connection_time_frame","first_series_full_time_frame","page_full_load_time_frame","page_load_time_frame"];const S=new class{constructor(){this.reportSent=new n.Delegate,this.timeCounters={series:{marks:[]},study:{},pine:{}},this._timeoutIds={},this._commonAdditionalData={cluster:null,userId:"0"},this._reportStash={}}setSessionInfo(e){const t=this._parseCluster(e);null!==t&&(this._commonAdditionalData.cluster=t)}sendReport(e,t,r){var n;if(!this._isAbleToSendReport(t))return;const o=this._getSubserviceType(e),_=this._getHost(e,o);if(null!==_){if(r=void 0===r?{count:1}:r,this._addReportToStash(r,t,_),!this._timeoutIds[e]){const t=null!==(n=T[e])&&void 0!==n?n:T.default;this._timeoutIds[e]=setTimeout(this._sendTelemetryToService.bind(this,e,_),t)}}else s.logError(`Unable to get host for counter: ${t}, metric type: ${e}, serivce type: ${o}`)}
sendChartReport(e,t,r=!0){this._sendServiceSpecifiedReport("charts",e,t,r)}sendLineToolsStorageReport(e,t,r=!0){this._sendServiceSpecifiedReport("line_tools_storage",e,t,r)}_sendServiceSpecifiedReport(e,t,r,n=!0){this._updateUserInfo(),r=void 0===r?{count:1}:r,n&&(r=this._appendCommonAdditionalInfo(r,["cluster","userId"])),this.sendReport(e,t,r)}_updateUserInfo(){const e="user"in window&&"id"in window.user?window.user.id:"0";this._commonAdditionalData.userId=String(e)}_isAbleToSendReport(e){const t=window.TELEMETRY_HOSTS,r=a.includes(e),n=Boolean(window.TradingView.onChartPage||(0,_.onWidget)());return t&&(!r||n)}_sendTelemetryToService(e,t){if(this._reportStash.hasOwnProperty(t)){const e=this._cropParams(this._reportStash[t]),r=this._renameAllParams(e),n={event:"report_stash",params:this._cleanAllParams(r)};s.logDebug(`Report to host: ${t}; stash: ${JSON.stringify(this._reportStash[t])}`),this.reportSent.fire(this._reportStash[t]),delete this._reportStash[t],(0,o.fetch)(`${t}/report`,{method:"POST",body:JSON.stringify(n)})}this._timeoutIds[e]=null}_getHost(e,t){const r=window.TELEMETRY_HOSTS,n=r[e]&&r[e][t];return Boolean(n)?n:null}_getSubserviceType(e){if(!["charts","site"].includes(e))return"all";let t="free";const r=window.user.is_pro;return"charts"===e&&(0,i.isOnMobileAppPage)("old")?t=r?"ios_pro":"ios_free":"charts"===e&&(0,i.isOnMobileAppPage)("new")?t=r?"android_pro":"android_free":(0,_.onWidget)()?t="widget":r&&(t="pro"),t}_parseCluster(e){let t;try{t=JSON.parse(e).session_id}catch(e){return s.logError("Could not parse cluster id (session id)"),null}const r=/(.*@)(.*)/gi.exec(t);return null!==r&&r.length>=3?r[2]:null}_appendCommonAdditionalInfo(e,t){return t.forEach((t=>{t in this._commonAdditionalData&&(e.additional=e.additional||{},e.additional[t]=this._commonAdditionalData[t])})),e}_cropParams(e){var t;for(const r in e)e.hasOwnProperty(r)&&e[r].length>1e3&&(e.too_much_metrics_frame=null!==(t=e.too_much_metrics_frame)&&void 0!==t?t:[],e.too_much_metrics_frame.push({value:e[r].length,additional:{event:r}}),delete e[r]);return e}_renameAllParams(e){const t={};for(const r in e)e.hasOwnProperty(r)&&(t[r]=[],e[r].forEach((e=>{t[r].push(this._renameEntryParams(e))})));return t}_renameEntryParams(e){const t={count:"c",value:"v",text:"t",additional:"a"};return Object.keys(e).reduce(((r,n)=>(r[t[n]]=e[n],r)),{})}_cleanAllParams(e){const t={};for(const r in e)if(e.hasOwnProperty(r)){t[r]=[];const n={c:0};e[r].forEach((e=>{const o=this._cleanEntryParams(e),_=Object.keys(o).length;1===_&&void 0!==o.c?n.c+=o.c:_>0&&t[r].push(o)})),n.c>0&&t[r].push(n),0===t[r].length&&delete t[r]}return t}_cleanEntryParams(e){const t=Object.keys(e).reduce(((t,r)=>"c"!==r&&"t"!==r||e[r]?(t[r]=e[r],t):t),{});return"c"in t||"v"in t||"t"in t?t:{}}_addReportToStash(e,t,r){r in this._reportStash||(this._reportStash[r]={}),t in this._reportStash[r]||(this._reportStash[r][t]=[]),Object.keys(e).length>0&&this._reportStash[r][t].push(e)}}},779923:(e,t,r)=>{async function n(e,t){
const n=await Promise.all([r.e(99074),r.e(97371),r.e(38352),r.e(34744),r.e(82619),r.e(16167),r.e(19310),r.e(27436),r.e(57038),r.e(55176),r.e(19034),r.e(87946),r.e(75459),r.e(29998),r.e(62526),r.e(27093),r.e(38890)]).then(r.bind(r,872462));return n.showSimpleDialog(e,n.warningModule,t)}r.d(t,{showWarning:()=>n})},315347:(e,t,r)=>{var n,o;r.d(t,{TIMEFRAMETYPE:()=>o}),function(e){e.extractErrorReason=function(e){return e.params[1]}}(n||(n={})),function(e){e.PeriodBack="period-back",e.TimeRange="time-range"}(o||(o={}))},678515:(e,t,r)=>{function n(e,t,r){return Math.min(Math.max(e,t),r)}function o(e){return e>0?Math.floor(e):Math.ceil(e)}r.d(t,{clamp:()=>n,toInt:()=>o})},846540:(e,t,r)=>{r.r(t),r.d(t,{types:()=>n});const n={ECONOMIC:"economic",QUANDL:"quandl"}},201089:(e,t,r)=>{r.r(t),r.d(t,{LOGLEVEL:()=>n.LOGLEVEL,getLogHistory:()=>n.getLogHistory,getLogLevel:()=>n.getLogLevel,getLogger:()=>n.getLogger,getRawLogHistory:()=>n.getRawLogHistory,isHighRateEnabled:()=>n.isHighRateEnabled,loggingOff:()=>n.loggingOff,loggingOn:()=>n.loggingOn,serializeLogHistoryEntry:()=>n.serializeLogHistoryEntry,setLogLevel:()=>n.setLogLevel});var n=r(194582)},746133:(e,t,r)=>{var n;!function(e){e.Monthly="m",e.ThreeMonths="3m",e.OneYear="y",e.TwoYears="2y"}(n||(n={}))},822122:(e,t,r)=>{var n,o,_,i;r.d(t,{ProPlans:()=>n}),function(e){e.Free="free",e.Pro="pro",e.ProTrial="pro_trial",e.ProRealtime="pro_realtime",e.ProRealtimeTrial="pro_realtime_trial",e.ProPremium="pro_premium",e.ProPremiumTrial="pro_premium_trial"}(n||(n={})),function(e){e.ProExpert="pro_expert",e.ProRealtimeExpert="pro_realtime_expert",e.PremiumExpert="pro_premium_expert"}(o||(o={})),function(e){e.Platinum="platinum",e.Gold="gold",e.Silver="silver",e.Free="free"}(_||(_={})),function(e){e[e.Platinum=3]="Platinum",e[e.Gold=2]="Gold",e[e.Silver=1]="Silver",e[e.Free=0]="Free"}(i||(i={}))},397150:(e,t,r)=>{r.d(t,{showTooManyStudiesNotice:()=>_});var n=r(444372),o=r(779923);function _(e){(0,o.showWarning)({title:n.t(null,void 0,r(533603)),text:n.t(null,{replace:{number:`${e}`}},r(470213))})}},255453:(e,t,r)=>{r.d(t,{getProductForTrial:()=>_,isTrialProduct:()=>o});r(586463),r(444372),r(822122),r(746133);const n="_trial";function o(e){return new RegExp("_trial$").test(e)}function _(e){return e.split(n)[0]}}}]);